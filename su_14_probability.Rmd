---
title: "Summary 14 Probability"
output:
  html_document:
    df_print: paged
    number_sections: true
    toc: true
    pandoc_args: [
      "--number-sections",
      "--number-offset=14"
    ]
---



## Descrete Probability

>A more tangible way to think about the probability of an event is as the **proportion** of times the event occurs when we repeat the experiment an infinite number of times, independently, and under the same conditions.

Generate an urn with beads and pick a random one.
```{r}
beads <- rep(c("red", "blue"), times = c(2,3))
beads
sample(beads, 1)
```

>This line of code produces one random outcome. We want to repeat this experiment an infinite number of times, but it is impossible to repeat forever. Instead, we *repeat the experiment a large enough number of times to make the results practically equivalent to repeating forever*. This is an example of a **Monte Carlo simulation**.

```{r}
B <- 10000
events <- replicate(B, sample(beads, 1))
tab <- table(events)
tab
prop.table(tab)
```

If B gets larger the proportions get closer to 3/5=.6 and 2/5=.4.
Setting seeds to get exactly reproducable results as listed in the book.

```{r}
set.seed(1986)
events <- sample(beads, B, replace = TRUE)
prop.table(table(events))
```

Generate a deck of cards using `paste` (concatenation of strings) and `expand.grid` (generates all combinations of the elements of two vectors).

```{r}
suits <- c("Diamonds", "Clubs", "Hearts", "Spades")
numbers <- c("Ace", "Deuce", "Three", "Four", "Five", 
             "Six", "Seven", "Eight", "Nine", "Ten", 
             "Jack", "Queen", "King")
deck <- expand.grid(number=numbers, suit=suits)
deck <- paste(deck$number, deck$suit)
deck
```

Illustrative example.
```{r}
library(gtools)
all_phone_numbers <- permutations(10, 7, v = 0:9)
n <- nrow(all_phone_numbers)
index <- sample(n, 5)
all_phone_numbers[index,]
```

Generate all possible combinations with the `permutations` function from the `gtools` package.
In how many cases is the first hand a king?
```{r}
library(gtools)
hands <- permutations(52, 2, v = deck)
first_card <- hands[,1]
second_card <- hands[,2]
kings <- paste("King", suits)
sum(first_card %in% kings)
```

What is the conditional probability that the second card is a king, when the first card is a king (3/51)?
$$
\frac{\mbox{Pr}(A \mbox{ and } B)} { \mbox{Pr}(A)}
$$
```{r}
sum(first_card %in% kings & second_card %in% kings) / sum(first_card %in% kings)
mean(first_card %in% kings & second_card %in% kings) / mean(first_card %in% kings)
```

